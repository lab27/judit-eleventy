<!doctype html>
<html {% if section %} data-current="home"{% endif %} lang="de">

	{% include "components/head.njk" %}

	<body>

		{% include "components/header.njk" %}

		<main id="swup" class="transition-fade">
			{{ layoutContent | safe }}
		</main>

		{% include "components/footer.njk" %}
		{% include "components/player.njk" %}
    <script src="{{ '/' | url }}static/js/player.js"></script>
    <script src="{{ '/' | url }}static/js/swup.min.js"></script>
    <script>
    const swup = new Swup(); 
		let globalPath = '/';
		let $navItem;
		swup.on('contentReplaced', function () {
			console.log('contentReplaced!', window.location.pathname)
			if (window.location.pathname === globalPath) {
				$navItem.classList.toggle('active')
			}
		});
		swup.on('clickLink', function (e) {
			console.log('e.target', e.target.dataset.navtitle)
			document.documentElement.setAttribute('data-current', e.target.dataset.navtitle)
			$navItem = e.target;
			globalPath = e.target.attributes.href.nodeValue;
		});
    </script>
	</body>

</html>
